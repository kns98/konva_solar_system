<!doctype html>
<html>
<head>
	<script src="https://unpkg.com/konva@7.0.3/konva.min.js"></script>
</head>
<body>
	<h3>Konva Solar System</h3>
	<div id="container-konva"></div>
	<script>
		var stage = new Konva.Stage({
			height: 800,
			width: 800,
			container: "container-konva",
		});

		var layer = new Konva.Layer();

		// Sun
		var sun = new Konva.Circle({
			x: 400,
			y: 400,
			fill: "yellow",
			radius: 50,
		});

		// Earth
		var earth = new Konva.Circle({
			x: 500,
			y: 400,
			fill: "blue",
			radius: 20,
		});

		var orbitRadius = 100;
		var earthOrbitPath = new Konva.Circle({
			x: sun.x(),
			y: sun.y(),
			radius: orbitRadius,
			stroke: 'black',
			strokeWidth: 1,
			dash: [5, 5],
		});

		var line = new Konva.Line({
			points: [sun.x(), sun.y(), earth.x(), earth.y()],
			stroke: 'black',
			strokeWidth: 2,
		});

		layer.add(sun);
		layer.add(earthOrbitPath);
		layer.add(earth);
		layer.add(line);

		stage.add(layer);

		var angularSpeed = 0.02;
		var angle = 0;

		// Function to update Earth's position
		function update() {
			angle += angularSpeed;
			var x = sun.x() + orbitRadius * Math.cos(angle);
			var y = sun.y() + orbitRadius * Math.sin(angle);

			earth.position({ x: x, y: y });
			line.points([sun.x(), sun.y(), earth.x(), earth.y()]);

			layer.batchDraw();
			requestAnimationFrame(update);
		}

		update(); // Start the animation loop
	</script>
</body>
</html>
